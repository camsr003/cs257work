import flask
import psycopg2
import random

app = flask.Flask(__name__)

#
@app.route('/pop/<abbrev>')
def state_pop(abbrev):
    conn = psycopg2.connect(
        host="localhost",
        port=5432,
        database="richardsonc",
        user="richardsonc",
        password="berry437lamp")
  
    cur = conn.cursor()

    names = [Aaron,
      Abel,
      Abraham,
      Achilles,
      Adam,
      Adolin,
      Adran,
      Ammar,
      Amon,
      Andrae,
      Andre,
      Andrew,
      Anos,
      Antarc,
      Anthony,
      Antonio,
      Anubis,
      Apollon,
      Argalia,
      Argus,
      Armadeus,
      Arnald,
      Artemis,
      Arthur,
      Artminas,
      Boyd,
      Brad,
      Brandon,
      Brent,
      Brian,
      Briar,
      Brick,
      Byron,
      Cadaver,
      Cain,
      Calar,
      Caliban,
      Chert,
      Chesed,
      Chris,
      Christopher,
      Chuck,
      Cicero,
      Cinnabar,
      Claudius,
      Clay,
      Clement,
      Clive,
      Cody,
      Cole,
      Colt,
      Connor,
      Conrad,
      Cornelius,
      Cozen,
      Creon,
      Crona,
      Crow,
      Cygnet,
      Cypress,
      Cyrus,
      Daedalus,
      Dalinar,
      Damien,
      Devin,
      Dex,
      Diar,
      Diego,
      Dimitri,
      Dinell,
      Diomedes,
      Dior,
      Dominic,
      Donovan,
      Dove,
      Dragon,
      Esker,
      Ethan,
      Eula,
      Evaine,
      Ezekiel,
      Fabian,
      Fahim,
      Falco,
      Falcon,
      Faris,
      Faust,
      Feldspar,
      Felix,
      Ferdinand,
      Ferguson,
      Fern,
      Feste,
      Fraser,
      Frederick,
      Fritz,
      Gabbro,
      Gabriel,
      Gael,
      Gaius,
      Galahad,
      Gale,
      Gareth,
      Gaspard,
      Gavin,
      Gawain,
      Gebura,
      Hal,
      Hank,
      Hans,
      Harlequin,
      Harley,
      Harold,
      Harper,
      Harvey,
      Hassan,
      Hawk,
      Hayes,
      Hector,
      Hemlock,
      Henry,
      Hermes,
      Himmel,
      Hero,
      Isaiah,
      Ishmael,
      Isma,
      Ivan,
      Izzy,
      Jack,
      Jackdaw,
      Jackie,
      Jacob,
      Jaleel,
      Jalen,
      Jamal,
      James,
      Jamie,
      Jason,
      Jasper,
      Jay,
      Jean,
      Jefe,
      Jerry,
      Jesse,
      Lamorak,
      Lance,
      Lancelot,
      Larry,
      Law,
      Layle,
      Leif,
      Leo,
      Leon,
      Leonardo,
      Levi,
      Lewis,
      Liam,
      Link,
      Lloyd,
      Loam,
      Logan,
      Lotus,
      Louie,
      Lucas,
      Lucius,
      Lugh,
      Luis,
      Lyon,
      Lyric,
      Lysander,
      Macready,
      Madison,
      Mason,
      Matthew,
      Maurice,
      Maverick,
      Max,
      Maxos,
      Maxwell,
      Nicholas,
      Owen,
      Padparadscha,
      Parhelion,
      Parker,
      Pascal,
      Patrick,
      Paul,
      Pax,
      Payton,
      Pebble,
      Penn,
      Percy,
      Peter,
      Philip,
      Phoenix,
      Phos,
      Pigeon,
      Python,
      Quail,
      Quake,
      Quan,
      Quantum,
      Quartz,
      Quentin,
      Quince,
      Quincy,
      Quirrel,
      Radovan,
      Raheem,
      Raigh,
      Rain,
      Raj,
      Rajul,
      Rama,
      Rami,
      Rasto,
      Raven,
      Ray,
      Red,
      Robin,
      Roby,
      Roland,
      Rolf,
      Romeo,
      Romy,
      Rook,
      Roux,
      Rowan,
      Roy,
      Seth,
      Shale,
      Shay,
      Shem,
      Shinon,
      Shiva,
      Shon,
      Shu,
      Siegfried,
      Sigurd,
      Silque,
      Silt,
      Silver,
      Simon,
      Sinbad,
      Sirius,
      Sisyphus,
      Skulduggery,
      Strahd,
      Subaru,
      Sun,
      Sven,
      Sydney,
      Szeth,
      Taylor,
      Teft,
      Tharson,
      Theomars,
      Theseus,
      Tiphereth,
      Ulrich,
      Ulus,
      Ulysses,
      Uriel,
      Usopp,
      Valbar,
      Valentine,
      Valerian,
      Vergil,
      Victor,
      Vin,
      Vincent,
      Wormwood,
      Wren,
      Xavier,
      Xavos,
      Xiao,
      Yakub,
      Zora,
      Zote]
    adjs = [Great,
            Gallant,
            Destroyer,
            Huge,
            Majestic,
            Terrible,
            Scholar of the Burning Blood,
            Scaleless,
            Lord of Cinder,
            Perfect]
    sql = "SELECT * FROM usstatepop WHERE code LIKE %s ORDER BY pop DESC;"
    randomyear = random.randint(1900, 2023)
    randomname = names[random.randint(0, len(names) - 1)]
  
    cur.execute( sql  )

    row = cur.fetchone()
    
    if row == None:
        return "Enter a valid US state abbreviation."
    else:
        return abbrev + " has a population of " + str(row[2]) + " people."
        
if __name__ == '__main__':
    my_port = 5124
    app.run(host='0.0.0.0', port = my_port) 
